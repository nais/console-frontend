<script lang="ts">
	import { enhance } from '$app/forms';
	import { Button, Search } from '@nais/ds-svelte-community';
	import { MagnifyingGlassIcon } from '@nais/ds-svelte-community/icons';

	let cveId = $state('');
</script>

<div class="cve-search">
	<form action="/vulnerabilities?/search" method="POST" use:enhance class="search-form">
		<div class="search-input">
			<Search
				bind:value={cveId}
				name="cve"
				label="Search for CVE"
				hideLabel
				placeholder="Enter CVE ID (e.g., CVE-2024-1234)"
				size="medium"
				variant="simple"
			/>
		</div>
		<Button type="submit" variant="primary" size="medium" icon={MagnifyingGlassIcon}>Search</Button>
	</form>
</div>

<style>
	.cve-search {
		display: flex;
		flex-direction: column;
		gap: var(--ax-space-8);
	}

	.search-form {
		display: flex;
		gap: var(--ax-space-12);
		align-items: flex-start;
	}

	.search-input {
		flex: 1;
		max-width: 400px;
	}
</style>
