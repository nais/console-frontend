<script lang="ts">
    import {Tooltip} from "@nais/ds-svelte-community";

    export let severity:string;
    export let count:number | undefined;

</script>

{#if count === undefined}
    <Tooltip placement="right" content="No data found">
        <span>-</span>
    </Tooltip>
{:else if count > 0 }
    <Tooltip placement="right" content="severity: {severity}">
        <span class="circle {severity}">{count}</span>
    </Tooltip>
{:else}
    <Tooltip placement="right" content="No vulnerabilities found, keep up the good work!">
        <code class="check">&check;</code>
    </Tooltip>
{/if}

<style>
    .circle {
        border-radius: 50%;
        -moz-border-radius: 50%;
        -webkit-border-radius: 50%;
        border: 2px solid #6e6e6e;
        color: #6e6e6e;
        display: inline-block;
        font-weight: bold;
        margin-right: 3px;
        text-align: center;
        width: 36px;
        height: 36px;
        padding: 4px;
    }

    .critical {
        border-color: #f86c6b;
    }

    .high {
        border-color: orange;
    }

    .medium {
        border-color: #ffc107;
    }

    .low {
        border-color: #6e6e6e;
    }

    .check {
        font-size: 2rem;
        color: #4dbd74;
        text-align: center;
        padding-left: 4px;
    }
</style>