import { formatDuration, intervalToDuration, subDays, subMonths } from 'date-fns';

export const intervalOptionsVulnerabilityHistory = ['6m', '30d', '7d'] as const;

export const getFrom = (interval: (typeof intervalOptionsVulnerabilityHistory)[number]): Date => {
	const now = new Date();
	switch (interval) {
		case '6m':
			return subMonths(now, 6);
		case '30d':
			return subDays(now, 30);
		case '7d':
			return subDays(now, 7);
		default:
			return subDays(now, 7);
	}
};

export function formatSeconds(seconds: number): string {
	const duration = intervalToDuration({ start: 0, end: seconds * 1000 });
	return formatDuration(duration, { format: ['hours', 'minutes', 'seconds'] });
}
