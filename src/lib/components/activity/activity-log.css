/* ---------- Mandatory shadow variables (yours) ---------- */
:root,
html {
	--activity-shadow-rest-1: rgba(0, 0, 0, 0.06);
	--activity-shadow-hover-1: rgba(0, 0, 0, 0.12);
	--activity-shadow-hover-2: rgba(0, 0, 0, 0.14);
}

@media (prefers-color-scheme: dark) {
	:root,
	html {
		--activity-shadow-rest-1: rgba(255, 255, 255, 0.06);
		--activity-shadow-hover-1: rgba(255, 255, 255, 0.1);
		--activity-shadow-hover-2: rgba(255, 255, 255, 0.12);
	}
}

/* DS Svelte Community + common dark selectors */
:where(
	html[data-theme='dark'],
	body[data-theme='dark'],
	.navds-theme--dark,
	.ax-theme--dark,
	[data-ds-theme='dark'],
	.ds-theme--dark,
	.dark,
	.aksel-theme.dark
) {
	--activity-shadow-rest-1: rgba(255, 255, 255, 0.06);
	--activity-shadow-hover-1: rgba(255, 255, 255, 0.1);
	--activity-shadow-hover-2: rgba(255, 255, 255, 0.12);
}

/* ---------- Timeline layout (optional container helpers) ---------- */
.activity-list {
	display: flex;
	flex-direction: column;
	gap: var(--ax-space-4, 1rem);
}

.activity-item {
	position: relative;
	display: flex;
	gap: var(--ax-space-12, 1.5rem);
	padding: var(--ax-space-4, 1rem) 0;
}

/* the vertical line between items */
.activity-item::before {
	content: '';
	position: absolute;
	left: 20px; /* centers under 40px icon */
	top: 48px;
	bottom: -1px;
	width: 1px;
	background: var(--ax-border-neutral-strong);
	opacity: 0.7;
}

.activity-item:last-child::before {
	display: none;
}

/* ---------- Icon base ---------- */
.activity-icon {
	position: relative;
	z-index: 1;
	display: flex;
	align-items: center;
	justify-content: center;

	width: 40px;
	height: 40px;
	border-radius: 50%;
	flex-shrink: 0;

	/* ring + elevation using your vars */
	border: 2px solid var(--ax-bg-default);
	box-shadow:
		0 2px 6px var(--activity-shadow-rest-1),
		0 10px 18px var(--activity-shadow-rest-1);

	color: white;
	transition:
		transform 0.15s ease-in-out,
		box-shadow 0.15s ease-in-out;
}

.activity-icon:hover {
	transform: translateY(-1px);
	box-shadow:
		0 4px 10px var(--activity-shadow-hover-1),
		0 16px 28px var(--activity-shadow-hover-2);
}

/* Neutral fallback (uses theme surfaces) */
.activity-icon.resource-neutral {
	background: linear-gradient(145deg, var(--ax-bg-default), var(--ax-bg-raised));
	color: var(--ax-text-default, #fff);
}

/* ---------- Resource-based colors (aligned with chart palette) ---------- */

/* Applications - soft blue-gray */
.activity-icon.resource-application {
	background: linear-gradient(145deg, #6b9ac4, #5a85aa);
	color: white;
}

/* Jobs - warm amber */
.activity-icon.resource-job {
	background: linear-gradient(145deg, #d4a574, #c08d5a);
	color: white;
}

/* Deployments - vibrant purple (special event) */
.activity-icon.resource-deployment {
	background: linear-gradient(145deg, #8e44ad, #6d3390);
	color: white;
}

/* Secrets - matches Secret Manager chart color */
.activity-icon.resource-secret {
	background: linear-gradient(145deg, #c48fb1, #af7a9c);
	color: white;
}

/* Repositories - teal green */
.activity-icon.resource-repository {
	background: linear-gradient(145deg, #4db8a6, #3fa090);
	color: white;
}

/* Team & Members - coral pink */
.activity-icon.resource-team {
	background: linear-gradient(145deg, #e89a8a, #d17d6b);
	color: white;
}

/* OpenSearch - matches chart color #A18BC6 */
.activity-icon.resource-opensearch {
	background: linear-gradient(145deg, #a18bc6, #8a74b0);
	color: white;
}

/* Valkey - matches chart color #BA8FC1 */
.activity-icon.resource-valkey {
	background: linear-gradient(145deg, #ba8fc1, #a378ab);
	color: white;
}

/* Unleash - soft lime green */
.activity-icon.resource-unleash {
	background: linear-gradient(145deg, #a4c88f, #8fb37a);
	color: white;
}

/* Vulnerabilities - yellow for visibility */
.activity-icon.resource-vulnerability {
	background: linear-gradient(145deg, #f1c40f, #d4ac0d);
	color: #1a1a1a;
}

/* Kubernetes/Cluster - matches Kubernetes Engine chart color */
.activity-icon.resource-kubernetes {
	background: linear-gradient(145deg, #b76d9a, #a05985);
	color: white;
}

/* System/Reconciler - neutral gray */
.activity-icon.resource-system {
	background: linear-gradient(145deg, #7f8c8d, #6c7a7b);
	color: white;
}

/* Maintenance - orange */
.activity-icon.resource-maintenance {
	background: linear-gradient(145deg, #e67e22, #ca6b16);
	color: white;
}
