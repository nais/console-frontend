/* Light defaults */
:root,
html {
	--activity-shadow-rest-1: rgba(0, 0, 0, 0.06);
	--activity-shadow-hover-1: rgba(0, 0, 0, 0.12);
	--activity-shadow-hover-2: rgba(0, 0, 0, 0.14);
}

/* OS dark-mode fallback */
@media (prefers-color-scheme: dark) {
	:root,
	html {
		--activity-shadow-rest-1: rgba(255, 255, 255, 0.06);
		--activity-shadow-hover-1: rgba(255, 255, 255, 0.1);
		--activity-shadow-hover-2: rgba(255, 255, 255, 0.12);
	}
}

/* DS Svelte Community dark theme selectors */
:where(
	html[data-theme='dark'],
	body[data-theme='dark'],
	.navds-theme--dark,
	.ax-theme--dark,
	[data-ds-theme='dark'],
	.ds-theme--dark,
	.dark,
	.aksel-theme.dark
) {
	--activity-shadow-rest-1: rgba(255, 255, 255, 0.06);
	--activity-shadow-hover-1: rgba(255, 255, 255, 0.1);
	--activity-shadow-hover-2: rgba(255, 255, 255, 0.12);
}

/* --- ICON ---------------------------------------------------------- */

.activity-icon {
	position: relative;
	z-index: 1;
	display: flex;
	align-items: center;
	justify-content: center;

	width: 40px;
	height: 40px;
	border-radius: 50%;
	flex-shrink: 0;

	/* thin ring that matches page background */
	border: 2px solid var(--ax-bg-default);

	/* subtle resting depth (uses var that flips in dark) */
	box-shadow: 0 1px 2px var(--activity-shadow-rest-1);

	color: white;
	transition:
		transform 0.15s ease-in-out,
		box-shadow 0.15s ease-in-out;
}

.activity-icon:hover {
	transform: translateY(-1px);
	/* light or white glow depending on variables above */
	box-shadow:
		0 4px 10px var(--activity-shadow-hover-1),
		0 8px 24px var(--activity-shadow-hover-2);
}

/* Fill variants */
.activity-icon.scale-up {
	background: linear-gradient(145deg, #27ae60, #1e874b);
}
.activity-icon.scale-down {
	background: linear-gradient(145deg, #e74c3c, #c0392b);
}
.activity-icon.scale-neutral {
	background: linear-gradient(145deg, #95a5a6, #7f8c8d);
}

.activity-icon.added {
	background: linear-gradient(145deg, #3bb273, #2d995f);
}
.activity-icon.deleted {
	background: linear-gradient(145deg, #e15241, #c0392b);
}
.activity-icon.updated {
	background: linear-gradient(145deg, #3498db, #2c80b4);
}
.activity-icon.deployment {
	background: linear-gradient(145deg, #8e44ad, #6d3390);
}
.activity-icon.maintenance {
	background: linear-gradient(145deg, #e67e22, #ca6b16);
}

.activity-icon.audit {
	background: linear-gradient(145deg, #16a085, #0e7668);
}
.activity-icon.vulnerability {
	background: linear-gradient(145deg, #f1c40f, #d4ac0d);
	color: black;
}
.activity-icon.reconciler {
	background: linear-gradient(145deg, #34495e, #2c3e50);
}

.activity-icon.neutral {
	background: linear-gradient(145deg, var(--ax-bg-default), var(--ax-bg-raised));
	color: var(--ax-text-neutral-strong);
}

/* --- TIMELINE ------------------------------------------------------ */
/* Put class="activity-list" on the container wrapping .item rows */

.activity-list .item {
	position: relative;
}

/* vertical line between icons; use DS token that exists */
.activity-list .item::before {
	content: '';
	position: absolute;
	left: 20px; /* center under a 40px circle */
	top: 48px;
	bottom: -1px;
	width: 1px;
	background: var(--ax-border-neutral-strong);
	z-index: 0;
}

.activity-list .item:last-child::before {
	display: none;
}
