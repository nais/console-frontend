query TeamVulnerabilities(
	$team: Slug!
	$orderBy: WorkloadOrder
	$filter: TeamWorkloadsFilter
	$filterSummary: TeamVulnerabilitySummaryFilter
) @cache(policy: NetworkOnly) {
	team(slug: $team) @loading {
		environments @loading {
			name @loading
		}
		vulnerabilitySummary(filter: $filterSummary) @loading {
			bomCount @loading
			coverage @loading
			critical @loading
			high @loading
			low @loading
			medium @loading
			ranking @loading
			riskScore @loading
			riskScoreTrend @loading
			unassigned
			status @loading {
				state
				title
				description
			}
		}
		workloads(first: 10, orderBy: $orderBy, filter: $filter) @paginate(mode: SinglePage) @loading {
			pageInfo @loading {
				totalCount @loading
				pageStart
				pageEnd
				hasNextPage
				hasPreviousPage
			}
			nodes @loading {
				__typename @loading
				name
				environment {
					name
				}
				team {
					slug
				}
				image @loading {
					name
					tag
					hasSBOM
					vulnerabilitySummary @loading {
						critical @loading
						high @loading
						medium @loading
						low @loading
						unassigned @loading
						riskScore @loading
					}
				}
			}
		}
	}
}
